<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="./style.css" />

    <script src="./chat-clientside.js"></script>

    <link rel="icon" type="image/ico" href="./images/Messenger.png" />
    <title>Messenger</title>
  </head>

  <body>
    <div>
      <img
        src="./images/Messenger.png"
        alt="messenger_icon"
        id="messenger_icon"
        width="200"
        height="200"
      />

      <h1>Instructions:</h1>
      <p>
        This is a demo of the chat app. Enter your log in information and after
        you will be able to send messages. <br />
        <br />
        The following is the list of the existing users in the database:
        <br />
        First User ('User Test', 'password'); <br />
        Second User ('Bill Gates', 'Windows98'); <br />
        Third User ('Steve Jobs', 'Leopard'); <br />
        Forth User ('Elon Reeve Musk', 'Tesla');
      </p>
      <br />
      <h3>NEW FEATURE:</h3>
      <p>
        You can now create a new account. The user will be stored in the DB,
        with hashed password (using bcrypt library).
      </p>

      <h1>Create Account:</h1>
      <p>
        If this is your first time using this chat application, please create a
        new account for free.
      </p>
      <h4>Username</h4>
      <input type="text" id="newUser" name="newUser" placeholder="Username" />
      <h4>Password</h4>
      <input
        type="text"
        id="newPassword"
        name="newPassword"
        placeholder="Password"
      />
      <h4>Nickname</h4>
      <input
        type="text"
        id="newNickname"
        name="newNickname"
        placeholder="Nickname"
      />
      <br />
      <br />
      <br />
      <button onclick="signUp()">Sign Up</button> <br />

      <div>
        <ul id="newUserErrorMessage"></ul>
      </div>
      <br />

      <h1>Log In:</h1>
      <p>
        Please enter your username, password and a message. If one of the forms
        is not filled properly, the message will not be sent. Every time the
        user is sending a message, it will be saved and all the previous
        messages will be retrieved from the database and displayed (in
        chronological order) to the html with Ajax. As all the messages have
        relation many to many, only the messages from the current user will be
        shown below.
      </p>
      <br />
      <p>
        If you inspect the page from the browser, you can see the "console.log"
        message with the hashed password when you log in with your new account.
      </p>

      <!-- <label for="user_id"> User Id </label>
      <input type="text" id="user_id" name="user_id" placeholder="User Id" /> -->

      <h4>Username</h4>
      <input type="text" id="txtUser" name="txtUser" placeholder="Username" />

      <h4>Password</h4>

      <input
        type="password"
        id="txtPassword"
        name="txtPassword"
        placeholder="Password"
      />

      <br />
      <br />
      <br />
      <button onclick="logIn()">Sign In</button> <br />
      <button onclick="logOut()">Log Out</button> <br />

      <div>
        <ul id="resultFromServer"></ul>
      </div>
    </div>

    <div>
      <h4>Message</h4>

      <textarea
        placeholder="Type a message..."
        name="txtMessage"
        id="txtMessage"
        cols="50"
        rows="5"
      ></textarea>

      <br />
      <br />
      <br />
      <button onclick="sendMessage()">Send Message</button>
    </div>

    <div>
      <ul id="sendMessageOutput"></ul>
    </div>

    <footer>
      <p style="text-align: center">
        Copyright Â©2020 emiDev Inc. All rights reserved.
      </p>
    </footer>
  </body>
</html>
